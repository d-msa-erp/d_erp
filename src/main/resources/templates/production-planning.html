<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>생산 계획</title>

  <th:block th:replace="~{/icon.html :: iconInclude}"></th:block>
  <style th:replace="~{/top.html :: topstyle}"></style>
  <link rel="stylesheet" href="/css/outbound.css"> <link rel="stylesheet" href="/css/production-planning.css"> </head>

<body>
  <div th:replace="~{/top.html :: top}"></div>

  <div class="site-Wrapper">
    <h1 style="font-size: 24px; margin-bottom: 16px;">생산 계획</h1>
    <div class="site-Dataset">
      <div class="header">
        <span class="material-symbols-outlined">event_note</span> <h4>생산 계획</h4>
      </div>

      <div class="calendarWrap"> <div class="calendar">
          <div class="calTitle">
            <button id="prev" class="btn-icon"><span class="material-symbols-outlined">chevron_left</span></button> <div id="month-year">2025년 5월</div>
            <button id="next" class="btn-icon"><span class="material-symbols-outlined">chevron_right</span></button>
          </div>
          <div class="weekdays">
            <div>일</div><div>월</div><div>화</div><div>수</div><div>목</div><div>금</div><div>토</div>
          </div>
          <div class="days" id="days"></div>
        </div>
        <div class="planner"> <div class="planTitle" id="selected-date"></div>
          <ul class="planner-summary"> <li>✔ 접수 <span id="order-count">0</span> 건</li>
            <li>✔ 생산필요 <span id="need-produce">0</span> 건</li>
            <li>✔ 출고 예정 <span id="delivery-count">0</span> 건</li>
          </ul>
          </div>
      </div>

      <div class="addPlanSection"> <h4 class="section-title"> <span class="material-symbols-outlined">playlist_add_check</span> 생산 지시 추가
        </h4>
        <form id="addPlanForm" class="addPlan modal-form-stacked"> <input type="hidden" th:value="${UserIdx}" id="userIdx" name="userIdx">
            
            <div class="form-group-inline"> <div class="modal-form-group"> <label for="startDateInput">착수일<span class="required-asterisk">*</span></label>
                    <input type="date" id="startDateInput" name="startDate" required>
                </div>
                <div class="modal-form-group">
                    <label for="endDateInput">납기일<span class="required-asterisk">*</span></label>
                    <input type="date" id="endDateInput" name="endDate" required>
                </div>
            </div>
            <div class="form-group-inline">
                <div class="modal-form-group">
                    <label for="customerInput">거래처</label>
                    <input type="text" id="customerInput" name="customerName" readonly>
                </div>
                <div class="modal-form-group">
                    <label for="itemInput">품목</label>
                    <input type="text" id="itemInput" name="itemName" readonly>
                </div>
            </div>
            <div class="modal-form-group">
                <label for="orderQtyInput">생산 수량<span class="required-asterisk">*</span></label> <input type="number" id="orderQtyInput" name="quantity" required min="1"> </div>
            
            <div id="orderInfoList" class="order-info-display"> </div>
            
            <div class="modal-buttons form-actions-footer"> <button type="submit" id="addPlanBtn" class="btn-save" disabled> <span class="material-symbols-outlined">add_task</span> 생산 지시
                </button>
            </div>
        </form>
      </div>
    </div>
  </div>

  <style>.required-asterisk { color: red; margin-left: 2px; font-weight: bold; }</style>
  <script src="/js/top.js"></script>
  <script src="/js/production-planning.js"></script>
</body>
</html>